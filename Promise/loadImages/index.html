<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>图片加载</title>
    <style type="text/css">
    #wrapper {
        box-sizing: border-box;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: url() no-repeat;
        background-size: 100% auto;
        padding-top: 121px;
        text-align: center;
    }
    </style>
</head>

<body>
    <div id="wrapper">加载中...</div>
    <script type="text/javascript">
    /* 在浏览器预览时要禁用缓存才能看到效果 */
    const wrapper = document.getElementById("wrapper");
    const url = "http://img.pconline.com.cn/images/upload/upc/tx/photoblog/1305/23/c9/21233806_21233806_1369310564359.jpg"

    new Promise((resolve, reject) => {
        let img = new Image();
        img.onload = resolve;
        img.onerror = reject;
        img.src = url;
    }).then(() => {
        wrapper.innerHTML = "";
        wrapper.style.backgroundImage = "url(" + url + ")"
    }).catch(err => {
        console.log(err)
    })
    </script>
</body>

</html>